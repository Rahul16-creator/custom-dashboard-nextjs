{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/home/rahul/dev/coding_mart/REACT_TASK/custiom-nextjs-dashboard/frontend/components/revenueChart.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport fetchData from '../service/api_request';\n\nvar RevenueChart = /*#__PURE__*/function (_Component) {\n  _inherits(RevenueChart, _Component);\n\n  var _super = _createSuper(RevenueChart);\n\n  function RevenueChart() {\n    var _this;\n\n    _classCallCheck(this, RevenueChart);\n\n    _this = _super.call(this);\n    _this.state = {\n      chartData: {}\n    };\n    return _this;\n  }\n\n  _createClass(RevenueChart, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.getChartData();\n    }\n  }, {\n    key: \"dashboardPanelChartData\",\n    value: function dashboardPanelChartData(data) {\n      var result_data = [];\n      var yAxis = [];\n      data.forEach(function (item) {\n        if (item.Crop !== \"All Agriculture\" && item.Crop !== \"\") {\n          var sum = 0;\n          Object.entries(item).forEach(function (t, i) {\n            if (t[0] === \"Crop\") {\n              yAxis.push(t[1]);\n            } else {\n              sum += t[1];\n            }\n          });\n          result_data.push(sum);\n        }\n      });\n      return {\n        result_data: result_data,\n        yAxis: yAxis\n      };\n    }\n  }, {\n    key: \"getChartData\",\n    value: function getChartData() {\n      var _this2 = this;\n\n      fetchData().then(function (response) {\n        var d = _this2.dashboardPanelChartData(response);\n\n        _this2.setState({\n          chartData: {\n            labels: d.yAxis,\n            datasets: [{\n              label: 'status',\n              data: d.result_data,\n              borderColor: \"rgba(0, 0, 0, 0.699)\",\n              backgroundColor: \" rgba(255, 0, 106, 0.5)\"\n            }]\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: this.state.chartData,\n          options: {\n            title: {\n              display: true,\n              text: \"All Product Year Revenue\",\n              fontSize: 25\n            },\n            legend: {\n              display: false\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return RevenueChart;\n}(Component);\n\nexport default RevenueChart;","map":{"version":3,"sources":["/home/rahul/dev/coding_mart/REACT_TASK/custiom-nextjs-dashboard/frontend/components/revenueChart.js"],"names":["React","Component","Line","fetchData","RevenueChart","state","chartData","getChartData","data","result_data","yAxis","forEach","item","Crop","sum","Object","entries","t","i","push","then","response","d","dashboardPanelChartData","setState","labels","datasets","label","borderColor","backgroundColor","title","display","text","fontSize","legend"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;;IAEMC,Y;;;;;AACF,0BAAc;AAAA;;AAAA;;AACV;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE;AADF,KAAb;AAFU;AAKb;;;;yCAEoB;AACjB,WAAKC,YAAL;AACH;;;4CAEuBC,I,EAAM;AAE1B,UAAIC,WAAW,GAAG,EAAlB;AACA,UAAIC,KAAK,GAAG,EAAZ;AAEAF,MAAAA,IAAI,CAACG,OAAL,CAAa,UAACC,IAAD,EAAU;AACnB,YAAIA,IAAI,CAACC,IAAL,KAAc,iBAAd,IAAmCD,IAAI,CAACC,IAAL,KAAc,EAArD,EAAyD;AACrD,cAAIC,GAAG,GAAG,CAAV;AACAC,UAAAA,MAAM,CAACC,OAAP,CAAeJ,IAAf,EAAqBD,OAArB,CAA6B,UAACM,CAAD,EAAIC,CAAJ,EAAU;AACnC,gBAAID,CAAC,CAAC,CAAD,CAAD,KAAS,MAAb,EAAqB;AACjBP,cAAAA,KAAK,CAACS,IAAN,CAAWF,CAAC,CAAC,CAAD,CAAZ;AACH,aAFD,MAEO;AACHH,cAAAA,GAAG,IAAIG,CAAC,CAAC,CAAD,CAAR;AACH;AACJ,WAND;AAOAR,UAAAA,WAAW,CAACU,IAAZ,CAAiBL,GAAjB;AACH;AAEJ,OAbD;AAeA,aAAO;AACHL,QAAAA,WAAW,EAAXA,WADG;AAEHC,QAAAA,KAAK,EAALA;AAFG,OAAP;AAMH;;;mCAEc;AAAA;;AACXP,MAAAA,SAAS,GAAGiB,IAAZ,CAAiB,UAACC,QAAD,EAAc;AAC3B,YAAMC,CAAC,GAAG,MAAI,CAACC,uBAAL,CAA6BF,QAA7B,CAAV;;AACA,QAAA,MAAI,CAACG,QAAL,CAAc;AACVlB,UAAAA,SAAS,EAAE;AACPmB,YAAAA,MAAM,EAAEH,CAAC,CAACZ,KADH;AAEPgB,YAAAA,QAAQ,EAAE,CACN;AACIC,cAAAA,KAAK,EAAE,QADX;AAEInB,cAAAA,IAAI,EAAEc,CAAC,CAACb,WAFZ;AAGImB,cAAAA,WAAW,EAAC,sBAHhB;AAIIC,cAAAA,eAAe,EAAE;AAJrB,aADM;AAFH;AADD,SAAd;AAcH,OAhBD;AAiBH;;;6BAEQ;AACL,0BACI;AAAA,+BACI,QAAC,IAAD;AACI,UAAA,IAAI,EAAE,KAAKxB,KAAL,CAAWC,SADrB;AAEI,UAAA,OAAO,EAAE;AACLwB,YAAAA,KAAK,EAAE;AACHC,cAAAA,OAAO,EAAE,IADN;AAEHC,cAAAA,IAAI,EAAE,0BAFH;AAGHC,cAAAA,QAAQ,EAAE;AAHP,aADF;AAMLC,YAAAA,MAAM,EAAE;AACJH,cAAAA,OAAO,EAAE;AADL;AANH;AAFb;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ;AAkBH;;;;EA/EsB9B,S;;AAkF3B,eAAeG,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport fetchData from '../service/api_request';\n\nclass RevenueChart extends Component {\n    constructor() {\n        super();\n        this.state = {\n            chartData: {}\n        }\n    }\n\n    componentWillMount() {\n        this.getChartData();\n    }\n\n    dashboardPanelChartData(data) {\n\n        let result_data = [];\n        let yAxis = [];\n\n        data.forEach((item) => {\n            if (item.Crop !== \"All Agriculture\" && item.Crop !== \"\") {\n                let sum = 0;\n                Object.entries(item).forEach((t, i) => {\n                    if (t[0] === \"Crop\") {\n                        yAxis.push(t[1]);\n                    } else {\n                        sum += t[1];\n                    }\n                })\n                result_data.push(sum);\n            }\n\n        })\n\n        return {\n            result_data,\n            yAxis\n        }\n\n\n    }\n\n    getChartData() {\n        fetchData().then((response) => {\n            const d = this.dashboardPanelChartData(response)\n            this.setState({\n                chartData: {\n                    labels: d.yAxis,\n                    datasets: [\n                        {\n                            label: 'status',\n                            data: d.result_data,\n                            borderColor:\"rgba(0, 0, 0, 0.699)\",\n                            backgroundColor: \" rgba(255, 0, 106, 0.5)\"\n                        }\n                    ]\n                }\n            });\n\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <Line\n                    data={this.state.chartData}\n                    options={{\n                        title: {\n                            display: true,\n                            text: \"All Product Year Revenue\",\n                            fontSize: 25\n                        },\n                        legend: {\n                            display: false\n                        }\n                    }}\n                />\n            </div>\n\n        );\n    }\n}\n\nexport default RevenueChart;"]},"metadata":{},"sourceType":"module"}